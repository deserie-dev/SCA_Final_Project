{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/DeleteCardPopup.js","components/ImagePopup.js","components/Login.js","components/ProtectedRoute.js","images/successIcon.svg","images/errorIcon.svg","components/InfoTooltip.js","components/Register.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","link","linkText","onLogOut","url","useLocation","pathname","className","src","logo","alt","to","onClick","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","name","onCardClick","type","onCardDelete","onCardLike","length","Main","avatar","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","id","Footer","PopupWithForm","isOpen","onSubmit","title","children","buttonText","onClose","AddPlacePopup","useState","setName","setLink","e","preventDefault","onAddPlace","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","EditProfilePopup","description","setDescription","useEffect","onUpdateUser","DeleteCardPopup","cardToDelete","ImagePopup","Login","setEmail","password","setPassword","handleLogin","ProtectedRoute","loggedIn","InfoTooltip","isRegistered","successIcon","errorIcon","Register","handleRegister","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","statusText","token","fetch","Authorization","method","then","_checkResponse","body","JSON","stringify","cardId","BASE_URL","checkResponse","App","history","useHistory","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setCardToDelete","setLoggedIn","setIsRegistered","isInfoTooltipOpen","setIsInfoTooltipOpen","localStorage","getItem","setToken","handleToolTipModal","closeAllPopups","push","removeItem","data","auth","user","catch","err","console","log","getUserInfo","getInitialCards","Provider","path","component","removeLike","newCard","state","c","addLike","clickedCard","cardData","values","editProfile","editAvatar","addCard","deleteCard","filter","setItem","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6eaa18f0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction Header({email, link, linkText, onLogOut}) {\n  const url = useLocation().pathname\n  \n  if (url === \"/signin\") {\n    linkText = \"Sign up\";\n    link = \"/signup\"\n  } else if (url === \"/signup\") {\n    linkText = \"Log in\";\n    link = \"/signin\"\n  } else if (url === \"/\") {\n    linkText = 'Log out'\n    link = \"/signin\"\n  }\n\n  return (\n    <header className=\"header\">\n    <img className=\"header__logo\" src={logo} alt=\"Around The World\" />\n      <div className=\"header__menu\">\n        <p className=\"header__menu-item\">{email}</p>\n        <Link className=\"header__menu-item\" to={link} onClick={onLogOut} >{linkText}</Link>\n      </div>  \n    </header>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser?._id;\n  const isLiked = props.card.likes.some(i => i._id === currentUser?._id);\n\n  const cardDeleteButtonClassName = (\n    `elements__delete-button ${isOwn ? 'elements__delete-button_visible' : 'elements__delete-button_hidden'}`\n  ); \n\n  const cardLikeButtonClassName = (\n    `elements__like ${isLiked ? 'elements__like_active' : ''}`\n  )\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }  \n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n  return(\n    <li className=\"elements__item\">\n      <img className=\"elements__image\" alt={props.name} src={props.link} onClick={handleClick} />\n        <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n        <div className=\"elements__heading\">\n          <h2 className=\"elements__title\">{props.name}</h2>\n          <div className=\"elements__like-container\">\n            <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"like button\" onClick={handleLikeClick}></button>\n            <p className=\"elements__like-counter\">{props.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main (props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n\n    <section className=\"profile\">\n        \n      <div className=\"profile__avatar\">\n        <img className=\"profile__image\" src={currentUser.avatar} alt=\"Avatar\" />\n        <button className=\"profile__image-edit\" onClick={props.onEditAvatarClick}></button>\n      </div>\n\n      <div className=\"profile__content\">\n        <div className=\"profile__details\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button type=\"button\" aria-label=\"edit button\" className=\"profile__edit\" onClick={props.onEditProfileClick}></button>\n        </div>\n        <p className=\"profile__occupation\">{currentUser.about}</p>\n      </div>\n      <button className=\"profile__add\" type=\"button\" aria-label=\"add button\" onClick={props.onAddPlaceClick}></button>\n    </section>\n\n    <section className=\"elements\">\n      <ul className=\"elements__container\">\n        {props.cards.map((card) => {\n          return (\n            <Card \n              card={card}\n              key={card._id} \n              name={card.name} \n              id={card._id} \n              link={card.link} \n              likes={card.likes}\n              onCardDelete={props.onCardDelete}\n              onCardLike={props.onCardLike}  \n              onCardClick={props.onCardClick}\n            />\n          )\n        })} \n      </ul>  \n    </section>\n    </main>\n  )\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__author\">&copy; 2021 Around The U.S.</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return(\n    <div className={`modal modal_type_${props.name} ${props.isOpen ? \"modal_opened\" : \"\"}`}>\n      <div className=\"modal__container\">\n            <form className={`modal__form modal__form_type_${props.name}`} name={props.name} onSubmit={props.onSubmit}>\n              <h3 className=\"modal__title\">{props.title}</h3>\n              {props.children}\n              <button className=\"modal__form-submit\" type=\"submit\" aria-label=\"save button\">{props.buttonText}</button>\n            </form>\n            <button className=\"modal__close-button\" type=\"button\" aria-label=\"close button\" onClick={props.onClose}></button>  \n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = React.useState();\n  const [link, setLink] = React.useState();\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link\n    });\n    setName('');\n    setLink('');\n  }\n\n  return (\n    <PopupWithForm name=\"create\" title=\"New place\" buttonText=\"Create\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input id=\"placeTitle\" className=\"modal__form-control modal__form-control_input_title\" type=\"text\"\n        placeholder=\"Title\" name=\"titleInput\" required minLength=\"1\" maxLength=\"30\" value={name} onChange={handleNameChange}/>\n      <span id=\"placeTitle-error\" className=\"modal__error\"></span>\n      <input id=\"placeLink\" className=\"modal__form-control modal__form-control_input_image\" type=\"url\"\n        placeholder=\"Image Link\" name=\"imageLinkInput\" required value={link} onChange={handleLink} />\n      <span id=\"placeLink-error\" className=\"modal__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef()\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n          avatar: avatarRef.current.value\n        });\n  }\n\n\n  return(\n    <PopupWithForm name=\"avatar\" title=\"Change Profile Picture\" buttonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input ref={avatarRef} id=\"avatar-url\" className=\"modal__form-control modal__form-control_avatar\" type=\"url\" placeholder=\"Image Link\" name=\"avatarInput\" required/>\n      <span id=\"avatar-url-error\" className=\"modal__error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const[name, setName] = React.useState('');\n  const[description, setDescription] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, props.isOpen]); \n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about: description\n    });\n  } \n\n  return(\n    <PopupWithForm name=\"edit\" title=\"Edit Profile\" buttonText=\"Save\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n      <input value={name || ''} id=\"profileName\" className=\"modal__form-control modal__form-control_input_name\" type=\"text\"\n        placeholder=\"Name\" name=\"profileNameInput\" required minLength=\"2\" maxLength=\"40\" onChange={handleNameChange}/>\n      <span id=\"profileName-error\" className=\"modal__error\"></span>\n      <input value={description || ''} id=\"profileOccupation\" className=\"modal__form-control modal__form-control_input_occupation\" type=\"text\"\n        placeholder=\"Occupation\" name=\"profileOccupationInput\" required minLength=\"2\" maxLength=\"200\" onChange={handleDescriptionChange} />\n      <span id=\"profileOccupation-error\" className=\"modal__error\"></span>    \n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    props.onSubmit(props.cardToDelete);\n  }\n\n  return(\n    <PopupWithForm name=\"deleteConfirmation\" title=\"Are you sure?\" buttonText=\"Yes\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}></PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  return (\n    <div className={`modal modal_type_image ${props.card ? \"modal_opened\" : \"\"}`}>\n      <div className=\"modal__container modal__container_preview\">\n          <button className=\"modal__close-button  modal__close-button_preview\" type=\"button\"\n            aria-label=\"close button\" onClick={props.onClose}></button>\n          <figure>\n            <img className=\"modal__image\" src={props.card?.link} alt={props.card?.name} />\n            <figcaption className=\"modal__image-title\">{props.card?.name}</figcaption>\n          </figure>\n      </div>\n    </div>\n  )\n}\n\nexport default ImagePopup;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\nfunction Login (props) { \n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState(''); \n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin(email, password);\n  }  \n  \n  return (\n    <>\n      <Header link=\"/signup\" linkText=\"Sign up\"></Header>\n      <div className=\"modal__form_container\">\n        <form className=\"modal__form\" onSubmit={handleSubmit} >\n          <h3 className=\"modal__form_heading\">Log in</h3>\n          <input className=\"modal__form_input\" placeholder=\"Email\" type=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} required />\n          <input className=\"modal__form_input\" placeholder=\"Password\" type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} required />\n          <button className=\"modal__form_submit\" type=\"submit\">Log In</button>\n          <Link className=\"modal__link\" to=\"/signup\">Not a member yet? Sign up here!</Link>\n        </form>\n      </div>\n    </>\n  );\n       \n}\n\nexport default Login;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute ({ children, loggedIn, ...props  }) {\n  return (\n    <Route {...props}>\n      {loggedIn ? children : <Redirect to={'./signin'} />}\n    </Route>\n  )  \n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/successIcon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/errorIcon.df8eddf6.svg\";","import React from 'react';\nimport successIcon from '../images/successIcon.svg';\nimport errorIcon from '../images/errorIcon.svg';\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`modal modal_type_tooltip ${props.isOpen && 'modal_opened'}`}>\n      <div className='modal__container modal__type_tooltip'>\n        <img className='modal__icon' src={props.isRegistered ? successIcon : errorIcon} alt='success or error icon' />\n        <p className='modal__message' >{props.isRegistered ? 'Success! You have now been registered.' : 'Oops, something went wrong! Please try again.'}</p>  \n        <button className='modal__close-button' type='button' aria-label='close button' onClick={props.onClose}></button>\n      </div>\n    </div>\n  )\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from './Header';\n\nfunction Register (props) {  \n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState(''); \n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleRegister(email, password);\n  }  \n  \n  return (\n    <>\n      <Header link=\"/signin\" linkText=\"Log in\"></Header>\n      <div className=\"modal__form_container\">\n        <form className=\"modal__form\" onSubmit={handleSubmit} >\n          <h3 className=\"modal__form_heading\">Sign up</h3>\n          <input className=\"modal__form_input\" placeholder=\"Email\" type=\"email\" name=\"email\" value={email} onChange={e => setEmail(e.target.value)} required />\n          <input className=\"modal__form_input\" placeholder=\"Password\" type=\"password\" name=\"password\" value={password} onChange={e => setPassword(e.target.value)} required />\n          <button className=\"modal__form_submit\" type=\"submit\" aria-label=\"register\">Sign Up</button>\n          <Link className=\"modal__link\" to=\"/signin\">Already a member? Log in here!</Link>\n        </form>\n      </div>  \n    </>\n  );\n       \n}\n\nexport default Register;","class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _checkResponse(res) {\n    return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n  }\n\n  getInitialCards(token) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'GET',\n    })\n      .then(this._checkResponse)\n  }\n\n  getUserInfo(token) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'GET',\n    })\n      .then(this._checkResponse)\n  }\n\n  addCard({ name, link }, token) {\n    return fetch(this._baseUrl + '/cards', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  deleteCard(cardId, token) {\n    return fetch(this._baseUrl + '/cards/' + cardId, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'DELETE',\n    })\n      .then(this._checkResponse)\n  }\n\n  editProfile({ name, about }, token) {\n    return fetch(this._baseUrl + '/users/me', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  editAvatar({ avatar }, token) {\n    return fetch(this._baseUrl + '/users/me/avatar', {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar\n      })\n    })\n      .then(this._checkResponse)\n  }\n\n  addLike(cardId, token) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'PUT',\n    })\n      .then(this._checkResponse)\n  }\n\n  removeLike(cardId, token) {\n    return fetch(this._baseUrl + '/cards/likes/' + cardId, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n      method: 'DELETE',\n    })\n      .then(this._checkResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: (process.env.NODE_ENV === \"production\" ? \"https://api.deserie.students.nomoreparties.site\" : \"http://localhost:3000\")\n});\n\n\nexport default api;","export const BASE_URL = process.env.NODE_ENV === \"production\" ? \"https://api.deserie.students.nomoreparties.site\" : \"http://localhost:3000\";\n\nfunction checkResponse(res) {\n  return res.ok ? res.json() : Promise.reject(\"Error!\" + res.statusText);\n}\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => {\n      return checkResponse(res)\n    })\n    .then((data) => {\n      if (data.token){\n      localStorage.setItem('token', data.token);\n      return data;\n      } else {\n        return;\n      }\n    })\n    .catch(err => console.log(err))\n};\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n  .then((res) => {\n    return checkResponse(res)\n  })\n  .then((data) => data);\n};","import React from 'react'; \nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport DeleteCardPopup from './DeleteCardPopup.js';\nimport ImagePopup from './ImagePopup';\nimport Login from './Login'\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport Register from './Register';\nimport api from '../utils/api';\nimport * as auth from '../utils/auth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const history = useHistory();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [cardToDelete, setCardToDelete] = React.useState();\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isRegistered, setIsRegistered] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n  const [token, setToken] = React.useState(localStorage.getItem('token'));\n    \n  //////////////////////////////////////////////////////////////////  \n\n  React.useEffect(() => {\n    if (token) {\n      auth.checkToken(token)\n      .then((res) => {\n        setLoggedIn(true);\n        setEmail(res.user.email);\n        history.push('/');   \n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    }\n  }, [history, token]);\n\n  React.useEffect(() => {\n    api.getUserInfo(token)\n      .then((res) => {\n        setCurrentUser(res.user)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  },[token, currentUser?._id])\n\n  React.useEffect(() => {\n    api.getInitialCards(token)\n      .then((res) => {\n        setCards(res.data);\n      })  \n      .catch((err) => {\n        console.log(err);\n      })\n  }, [token]);\n\n  ////////////////////////////////////////////////////////////////////\n\n  function handleUpdateUser(values) {\n    api.editProfile(values, token)\n      .then((values) => {\n        setCurrentUser(values)\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.editAvatar(avatar, token)\n      .then((avatar) => {\n        setCurrentUser(avatar)\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleAddPlaceSubmit({name, link}) {\n    api.addCard({name, link}, token)\n      .then((newCard) => {\n        setCards([newCard.data, ...cards])\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    if (!isLiked) {\n      api.addLike(card._id, token)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n    else {\n      api.removeLike(card._id, token)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n  }\n\n  function handleDeleteCard(card) {\n    api.deleteCard(card._id, token)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }    \n\n  ////////////////////////////////////////////////////////////////////////////////////////\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleDeleteCardClick(clickedCard) {\n    setIsDeleteCardOpen(true);\n    setCardToDelete(clickedCard);\n  }\n\n  function handleCardClick(cardData) {\n    setSelectedCard(cardData);\n  }\n\n  function handleToolTipModal() {\n    setIsInfoTooltipOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard(null);\n  }  \n\n  /////////////////////////////////////////////////////////////////////////////\n\n  function handleRegister (email, password) {\n    if (!email || !password) {\n      return;\n    }\n    auth.register(email, password)\n    .then((res) => {\n      if (res) {\n        setIsRegistered(true);\n        handleToolTipModal();\n        history.push('/signin');\n      } else {\n        setIsRegistered(false);\n        handleToolTipModal();\n      }    \n    })\n    .then(handleToolTipModal)\n    .catch((err) => {\n      setIsRegistered(false);\n      handleToolTipModal();\n      console.log(err);\n    });\n    \n  }\n\n  function handleLogin(email, password) {\n    if(!email || !password) {\n      return;\n    }\n    auth.authorize(email, password)\n    .then((data) => {\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n        setToken(data.token);\n        setLoggedIn(true);\n        setEmail(email); \n        history.push('/main')\n      }     \n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function onLogOut() {\n    history.push('/signin');\n    setLoggedIn(false);\n    setEmail('');\n    localStorage.removeItem('token');\n  }\n\n  /////////////////////////////////////////////////////////////////////////////    \n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className='root'>\n\n      <Switch>    \n\n        <ProtectedRoute \n          path='/main' \n          loggedIn={loggedIn}\n        >\n\n          <Header \n            link='/signin'\n            linkText='Log out' \n            email={email}\n            loggedIn={loggedIn}\n            onLogOut={onLogOut}\n          />\n\n          <Main\n            onLogOut={onLogOut}\n            component={Main}\n            onEditAvatarClick={handleEditAvatarClick} \n            onEditProfileClick={handleEditProfileClick} \n            onAddPlaceClick={handleAddPlaceClick} \n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n            onCardClick={handleCardClick} \n            cards={cards}\n            email={email}\n            onClose={closeAllPopups}\n          />\n\n          <Footer />\n\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <DeleteCardPopup\n            cardToDelete={cardToDelete}\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            onSubmit={handleDeleteCard}\n          />\n\n          <ImagePopup \n            card={selectedCard} \n            onClose={closeAllPopups}\n          />\n\n        </ProtectedRoute>\n\n        <Route path='/signin'>\n          <Login handleLogin={handleLogin}/>\n        </Route>\n        <Route path='/signup'>\n          <Register handleRegister={handleRegister}/>\n        </Route>\n        <Route exact path='/'>\n          {loggedIn ? <Redirect to='/main' /> : <Redirect to='/signin' />}\n        </Route> \n\n      </Switch>   \n\n        <InfoTooltip\n          isRegistered={isRegistered}\n          isOpen={isInfoTooltipOpen}  \n          onClose={closeAllPopups}\n        /> \n      </div>  \n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}